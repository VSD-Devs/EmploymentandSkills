"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/vacancies/route";
exports.ids = ["app/api/vacancies/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvacancies%2Froute&page=%2Fapi%2Fvacancies%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvacancies%2Froute.ts&appDir=%2FUsers%2Fuser%2FDownloads%2Fproject%203%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fuser%2FDownloads%2Fproject%203&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=export&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvacancies%2Froute&page=%2Fapi%2Fvacancies%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvacancies%2Froute.ts&appDir=%2FUsers%2Fuser%2FDownloads%2Fproject%203%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fuser%2FDownloads%2Fproject%203&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=export&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_user_Downloads_project_3_src_app_api_vacancies_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/vacancies/route.ts */ \"(rsc)/./src/app/api/vacancies/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"export\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/vacancies/route\",\n        pathname: \"/api/vacancies\",\n        filename: \"route\",\n        bundlePath: \"app/api/vacancies/route\"\n    },\n    resolvedPagePath: \"/Users/user/Downloads/project 3/src/app/api/vacancies/route.ts\",\n    nextConfigOutput,\n    userland: _Users_user_Downloads_project_3_src_app_api_vacancies_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/vacancies/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ2YWNhbmNpZXMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnZhY2FuY2llcyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnZhY2FuY2llcyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnVzZXIlMkZEb3dubG9hZHMlMkZwcm9qZWN0JTIwMyUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZ1c2VyJTJGRG93bmxvYWRzJTJGcHJvamVjdCUyMDMmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9ZXhwb3J0JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ2M7QUFDM0Y7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zb3V0aC15b3Jrc2hpcmUtcGF0aHdheXMvPzMzYzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL3VzZXIvRG93bmxvYWRzL3Byb2plY3QgMy9zcmMvYXBwL2FwaS92YWNhbmNpZXMvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiZXhwb3J0XCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3ZhY2FuY2llcy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3ZhY2FuY2llc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvdmFjYW5jaWVzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL3VzZXIvRG93bmxvYWRzL3Byb2plY3QgMy9zcmMvYXBwL2FwaS92YWNhbmNpZXMvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3ZhY2FuY2llcy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvacancies%2Froute&page=%2Fapi%2Fvacancies%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvacancies%2Froute.ts&appDir=%2FUsers%2Fuser%2FDownloads%2Fproject%203%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fuser%2FDownloads%2Fproject%203&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=export&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/vacancies/route.ts":
/*!****************************************!*\
  !*** ./src/app/api/vacancies/route.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _services_dfeApi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/services/dfeApi */ \"(rsc)/./src/services/dfeApi.ts\");\n\n\n// In-memory cache for development. In production, use a proper database\nlet vacanciesCache = null;\nlet lastFetchTime = 0;\nconst CACHE_DURATION = 1000 * 60 * 15; // 15 minutes\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const postcode = searchParams.get(\"postcode\");\n        const sort = searchParams.get(\"sort\") || \"AgeDesc\";\n        const currentTime = Date.now();\n        const cacheKey = `${postcode || \"default\"}-${sort}`;\n        // Check if we need to refresh the cache\n        if (!vacanciesCache?.[cacheKey] || currentTime - lastFetchTime > CACHE_DURATION) {\n            // Base params\n            const params = {\n                pageSize: 100,\n                postedInLastNumberOfDays: 30,\n                Sort: sort\n            };\n            // If postcode is provided, use it for location-based search\n            if (postcode) {\n                // In a real app, you'd want to use a postcode lookup service to get lat/lon\n                // For now, we'll keep using Sheffield coordinates\n                params.lat = 53.3811;\n                params.lon = -1.4701;\n                params.distanceInMiles = 50; // Increased radius when searching by postcode\n            } else {\n                // Default South Yorkshire search\n                params.lat = 53.3811;\n                params.lon = -1.4701;\n                params.distanceInMiles = 20;\n            }\n            const response = await _services_dfeApi__WEBPACK_IMPORTED_MODULE_1__.dfeApi.getVacancies(params);\n            if (!vacanciesCache) vacanciesCache = {};\n            vacanciesCache[cacheKey] = response;\n            lastFetchTime = currentTime;\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(vacanciesCache[cacheKey]);\n    } catch (error) {\n        console.error(\"Error in vacancies API route:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch vacancies\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS92YWNhbmNpZXMvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJDO0FBQ0E7QUFHM0Msd0VBQXdFO0FBQ3hFLElBQUlFLGlCQUFzQjtBQUMxQixJQUFJQyxnQkFBd0I7QUFDNUIsTUFBTUMsaUJBQWlCLE9BQU8sS0FBSyxJQUFJLGFBQWE7QUFFN0MsZUFBZUMsSUFBSUMsT0FBZ0I7SUFDeEMsSUFBSTtRQUNGLE1BQU0sRUFBRUMsWUFBWSxFQUFFLEdBQUcsSUFBSUMsSUFBSUYsUUFBUUcsR0FBRztRQUM1QyxNQUFNQyxXQUFXSCxhQUFhSSxHQUFHLENBQUM7UUFDbEMsTUFBTUMsT0FBT0wsYUFBYUksR0FBRyxDQUFDLFdBQTBCO1FBRXhELE1BQU1FLGNBQWNDLEtBQUtDLEdBQUc7UUFDNUIsTUFBTUMsV0FBVyxDQUFDLEVBQUVOLFlBQVksVUFBVSxDQUFDLEVBQUVFLEtBQUssQ0FBQztRQUVuRCx3Q0FBd0M7UUFDeEMsSUFBSSxDQUFDVixnQkFBZ0IsQ0FBQ2MsU0FBUyxJQUFJSCxjQUFjVixnQkFBZ0JDLGdCQUFnQjtZQUMvRSxjQUFjO1lBQ2QsTUFBTWEsU0FBYztnQkFDbEJDLFVBQVU7Z0JBQ1ZDLDBCQUEwQjtnQkFDMUJDLE1BQU1SO1lBQ1I7WUFFQSw0REFBNEQ7WUFDNUQsSUFBSUYsVUFBVTtnQkFDWiw0RUFBNEU7Z0JBQzVFLGtEQUFrRDtnQkFDbERPLE9BQU9JLEdBQUcsR0FBRztnQkFDYkosT0FBT0ssR0FBRyxHQUFHLENBQUM7Z0JBQ2RMLE9BQU9NLGVBQWUsR0FBRyxJQUFJLDhDQUE4QztZQUM3RSxPQUFPO2dCQUNMLGlDQUFpQztnQkFDakNOLE9BQU9JLEdBQUcsR0FBRztnQkFDYkosT0FBT0ssR0FBRyxHQUFHLENBQUM7Z0JBQ2RMLE9BQU9NLGVBQWUsR0FBRztZQUMzQjtZQUVBLE1BQU1DLFdBQVcsTUFBTXZCLG9EQUFNQSxDQUFDd0IsWUFBWSxDQUFDUjtZQUUzQyxJQUFJLENBQUNmLGdCQUFnQkEsaUJBQWlCLENBQUM7WUFDdkNBLGNBQWMsQ0FBQ2MsU0FBUyxHQUFHUTtZQUMzQnJCLGdCQUFnQlU7UUFDbEI7UUFFQSxPQUFPYixxREFBWUEsQ0FBQzBCLElBQUksQ0FBQ3hCLGNBQWMsQ0FBQ2MsU0FBUztJQUNuRCxFQUFFLE9BQU9XLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLGlDQUFpQ0E7UUFDL0MsT0FBTzNCLHFEQUFZQSxDQUFDMEIsSUFBSSxDQUN0QjtZQUFFQyxPQUFPO1FBQTRCLEdBQ3JDO1lBQUVFLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc291dGgteW9ya3NoaXJlLXBhdGh3YXlzLy4vc3JjL2FwcC9hcGkvdmFjYW5jaWVzL3JvdXRlLnRzPzljNDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgZGZlQXBpIH0gZnJvbSAnQC9zZXJ2aWNlcy9kZmVBcGknO1xuaW1wb3J0IHR5cGUgeyBWYWNhbmN5U29ydCB9IGZyb20gJ0Avc2VydmljZXMvZGZlQXBpJztcblxuLy8gSW4tbWVtb3J5IGNhY2hlIGZvciBkZXZlbG9wbWVudC4gSW4gcHJvZHVjdGlvbiwgdXNlIGEgcHJvcGVyIGRhdGFiYXNlXG5sZXQgdmFjYW5jaWVzQ2FjaGU6IGFueSA9IG51bGw7XG5sZXQgbGFzdEZldGNoVGltZTogbnVtYmVyID0gMDtcbmNvbnN0IENBQ0hFX0RVUkFUSU9OID0gMTAwMCAqIDYwICogMTU7IC8vIDE1IG1pbnV0ZXNcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgIGNvbnN0IHBvc3Rjb2RlID0gc2VhcmNoUGFyYW1zLmdldCgncG9zdGNvZGUnKTtcbiAgICBjb25zdCBzb3J0ID0gc2VhcmNoUGFyYW1zLmdldCgnc29ydCcpIGFzIFZhY2FuY3lTb3J0IHx8ICdBZ2VEZXNjJztcblxuICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCBjYWNoZUtleSA9IGAke3Bvc3Rjb2RlIHx8ICdkZWZhdWx0J30tJHtzb3J0fWA7XG5cbiAgICAvLyBDaGVjayBpZiB3ZSBuZWVkIHRvIHJlZnJlc2ggdGhlIGNhY2hlXG4gICAgaWYgKCF2YWNhbmNpZXNDYWNoZT8uW2NhY2hlS2V5XSB8fCBjdXJyZW50VGltZSAtIGxhc3RGZXRjaFRpbWUgPiBDQUNIRV9EVVJBVElPTikge1xuICAgICAgLy8gQmFzZSBwYXJhbXNcbiAgICAgIGNvbnN0IHBhcmFtczogYW55ID0ge1xuICAgICAgICBwYWdlU2l6ZTogMTAwLFxuICAgICAgICBwb3N0ZWRJbkxhc3ROdW1iZXJPZkRheXM6IDMwLFxuICAgICAgICBTb3J0OiBzb3J0LFxuICAgICAgfTtcblxuICAgICAgLy8gSWYgcG9zdGNvZGUgaXMgcHJvdmlkZWQsIHVzZSBpdCBmb3IgbG9jYXRpb24tYmFzZWQgc2VhcmNoXG4gICAgICBpZiAocG9zdGNvZGUpIHtcbiAgICAgICAgLy8gSW4gYSByZWFsIGFwcCwgeW91J2Qgd2FudCB0byB1c2UgYSBwb3N0Y29kZSBsb29rdXAgc2VydmljZSB0byBnZXQgbGF0L2xvblxuICAgICAgICAvLyBGb3Igbm93LCB3ZSdsbCBrZWVwIHVzaW5nIFNoZWZmaWVsZCBjb29yZGluYXRlc1xuICAgICAgICBwYXJhbXMubGF0ID0gNTMuMzgxMTtcbiAgICAgICAgcGFyYW1zLmxvbiA9IC0xLjQ3MDE7XG4gICAgICAgIHBhcmFtcy5kaXN0YW5jZUluTWlsZXMgPSA1MDsgLy8gSW5jcmVhc2VkIHJhZGl1cyB3aGVuIHNlYXJjaGluZyBieSBwb3N0Y29kZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRGVmYXVsdCBTb3V0aCBZb3Jrc2hpcmUgc2VhcmNoXG4gICAgICAgIHBhcmFtcy5sYXQgPSA1My4zODExO1xuICAgICAgICBwYXJhbXMubG9uID0gLTEuNDcwMTtcbiAgICAgICAgcGFyYW1zLmRpc3RhbmNlSW5NaWxlcyA9IDIwO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGRmZUFwaS5nZXRWYWNhbmNpZXMocGFyYW1zKTtcblxuICAgICAgaWYgKCF2YWNhbmNpZXNDYWNoZSkgdmFjYW5jaWVzQ2FjaGUgPSB7fTtcbiAgICAgIHZhY2FuY2llc0NhY2hlW2NhY2hlS2V5XSA9IHJlc3BvbnNlO1xuICAgICAgbGFzdEZldGNoVGltZSA9IGN1cnJlbnRUaW1lO1xuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih2YWNhbmNpZXNDYWNoZVtjYWNoZUtleV0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIHZhY2FuY2llcyBBUEkgcm91dGU6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggdmFjYW5jaWVzJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufSAiXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZGZlQXBpIiwidmFjYW5jaWVzQ2FjaGUiLCJsYXN0RmV0Y2hUaW1lIiwiQ0FDSEVfRFVSQVRJT04iLCJHRVQiLCJyZXF1ZXN0Iiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwicG9zdGNvZGUiLCJnZXQiLCJzb3J0IiwiY3VycmVudFRpbWUiLCJEYXRlIiwibm93IiwiY2FjaGVLZXkiLCJwYXJhbXMiLCJwYWdlU2l6ZSIsInBvc3RlZEluTGFzdE51bWJlck9mRGF5cyIsIlNvcnQiLCJsYXQiLCJsb24iLCJkaXN0YW5jZUluTWlsZXMiLCJyZXNwb25zZSIsImdldFZhY2FuY2llcyIsImpzb24iLCJlcnJvciIsImNvbnNvbGUiLCJzdGF0dXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/vacancies/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/services/dfeApi.ts":
/*!********************************!*\
  !*** ./src/services/dfeApi.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dfeApi: () => (/* binding */ dfeApi)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/lib/axios.js\");\n\nconst DFE_API_KEY = process.env.DFE_API_KEY;\nconst DFE_API_BASE_URL = \"https://api.apprenticeships.education.gov.uk/vacancies\";\nconst dfeApi = {\n    async getVacancies (params) {\n        try {\n            const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`${DFE_API_BASE_URL}/vacancy`, {\n                headers: {\n                    \"Ocp-Apim-Subscription-Key\": DFE_API_KEY,\n                    \"X-Version\": \"1\"\n                },\n                params\n            });\n            return response.data;\n        } catch (error) {\n            console.error(\"Error fetching DfE vacancies:\", error);\n            throw error;\n        }\n    },\n    async getVacancyByReference (reference) {\n        try {\n            const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`${DFE_API_BASE_URL}/vacancy/${reference}`, {\n                headers: {\n                    \"Ocp-Apim-Subscription-Key\": DFE_API_KEY,\n                    \"X-Version\": \"1\"\n                }\n            });\n            return response.data;\n        } catch (error) {\n            console.error(\"Error fetching DfE vacancy:\", error);\n            throw error;\n        }\n    },\n    async getCourses () {\n        try {\n            const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`${DFE_API_BASE_URL}/referencedata/courses`, {\n                headers: {\n                    \"Ocp-Apim-Subscription-Key\": DFE_API_KEY,\n                    \"X-Version\": \"1\"\n                }\n            });\n            return response.data;\n        } catch (error) {\n            console.error(\"Error fetching DfE courses:\", error);\n            throw error;\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmljZXMvZGZlQXBpLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTBCO0FBRTFCLE1BQU1DLGNBQWNDLFFBQVFDLEdBQUcsQ0FBQ0YsV0FBVztBQUMzQyxNQUFNRyxtQkFBbUI7QUFtRWxCLE1BQU1DLFNBQVM7SUFDcEIsTUFBTUMsY0FBYUMsTUFBMEI7UUFDM0MsSUFBSTtZQUNGLE1BQU1DLFdBQVcsTUFBTVIsNkNBQUtBLENBQUNTLEdBQUcsQ0FBQyxDQUFDLEVBQUVMLGlCQUFpQixRQUFRLENBQUMsRUFBRTtnQkFDOURNLFNBQVM7b0JBQ1AsNkJBQTZCVDtvQkFDN0IsYUFBYTtnQkFDZjtnQkFDQU07WUFDRjtZQUVBLE9BQU9DLFNBQVNHLElBQUk7UUFDdEIsRUFBRSxPQUFPQyxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyxpQ0FBaUNBO1lBQy9DLE1BQU1BO1FBQ1I7SUFDRjtJQUVBLE1BQU1FLHVCQUFzQkMsU0FBaUI7UUFDM0MsSUFBSTtZQUNGLE1BQU1QLFdBQVcsTUFBTVIsNkNBQUtBLENBQUNTLEdBQUcsQ0FBQyxDQUFDLEVBQUVMLGlCQUFpQixTQUFTLEVBQUVXLFVBQVUsQ0FBQyxFQUFFO2dCQUMzRUwsU0FBUztvQkFDUCw2QkFBNkJUO29CQUM3QixhQUFhO2dCQUNmO1lBQ0Y7WUFFQSxPQUFPTyxTQUFTRyxJQUFJO1FBQ3RCLEVBQUUsT0FBT0MsT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsK0JBQStCQTtZQUM3QyxNQUFNQTtRQUNSO0lBQ0Y7SUFFQSxNQUFNSTtRQUNKLElBQUk7WUFDRixNQUFNUixXQUFXLE1BQU1SLDZDQUFLQSxDQUFDUyxHQUFHLENBQUMsQ0FBQyxFQUFFTCxpQkFBaUIsc0JBQXNCLENBQUMsRUFBRTtnQkFDNUVNLFNBQVM7b0JBQ1AsNkJBQTZCVDtvQkFDN0IsYUFBYTtnQkFDZjtZQUNGO1lBRUEsT0FBT08sU0FBU0csSUFBSTtRQUN0QixFQUFFLE9BQU9DLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLCtCQUErQkE7WUFDN0MsTUFBTUE7UUFDUjtJQUNGO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3NvdXRoLXlvcmtzaGlyZS1wYXRod2F5cy8uL3NyYy9zZXJ2aWNlcy9kZmVBcGkudHM/MWJlYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuXG5jb25zdCBERkVfQVBJX0tFWSA9IHByb2Nlc3MuZW52LkRGRV9BUElfS0VZO1xuY29uc3QgREZFX0FQSV9CQVNFX1VSTCA9ICdodHRwczovL2FwaS5hcHByZW50aWNlc2hpcHMuZWR1Y2F0aW9uLmdvdi51ay92YWNhbmNpZXMnO1xuXG5leHBvcnQgdHlwZSBWYWNhbmN5U29ydCA9ICdBZ2VEZXNjJyB8ICdBZ2VBc2MnIHwgJ0Rpc3RhbmNlRGVzYycgfCAnRGlzdGFuY2VBc2MnIHwgJ0V4cGVjdGVkU3RhcnREYXRlRGVzYycgfCAnRXhwZWN0ZWRTdGFydERhdGVBc2MnO1xuXG5leHBvcnQgaW50ZXJmYWNlIERmZVZhY2FuY3lSZXNwb25zZSB7XG4gIHZhY2FuY2llczogRGZlVmFjYW5jeVtdO1xuICB0b3RhbDogbnVtYmVyO1xuICB0b3RhbEZpbHRlcmVkOiBudW1iZXI7XG4gIHRvdGFsUGFnZXM6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEZmVWYWNhbmN5IHtcbiAgdGl0bGU6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgbnVtYmVyT2ZQb3NpdGlvbnM6IG51bWJlcjtcbiAgcG9zdGVkRGF0ZTogc3RyaW5nO1xuICBjbG9zaW5nRGF0ZTogc3RyaW5nO1xuICBzdGFydERhdGU6IHN0cmluZztcbiAgd2FnZToge1xuICAgIHdhZ2VUeXBlOiAnQXBwcmVudGljZXNoaXBNaW5pbXVtJyB8ICdOYXRpb25hbE1pbmltdW0nIHwgJ0N1c3RvbScgfCAnQ29tcGV0aXRpdmVTYWxhcnknO1xuICAgIHdhZ2VBbW91bnQ/OiBudW1iZXI7XG4gICAgd2FnZVVuaXQ6ICdVbnNwZWNpZmllZCcgfCAnV2Vla2x5JyB8ICdNb250aGx5JyB8ICdBbm51YWxseSc7XG4gICAgd2FnZUFkZGl0aW9uYWxJbmZvcm1hdGlvbj86IHN0cmluZztcbiAgICB3b3JraW5nV2Vla0Rlc2NyaXB0aW9uPzogc3RyaW5nO1xuICB9O1xuICBob3Vyc1BlcldlZWs6IG51bWJlcjtcbiAgZXhwZWN0ZWREdXJhdGlvbjogc3RyaW5nO1xuICBhZGRyZXNzOiB7XG4gICAgYWRkcmVzc0xpbmUxPzogc3RyaW5nO1xuICAgIGFkZHJlc3NMaW5lMj86IHN0cmluZztcbiAgICBhZGRyZXNzTGluZTM/OiBzdHJpbmc7XG4gICAgYWRkcmVzc0xpbmU0Pzogc3RyaW5nO1xuICAgIHBvc3Rjb2RlOiBzdHJpbmc7XG4gIH07XG4gIGxvY2F0aW9uOiB7XG4gICAgbGF0OiBudW1iZXI7XG4gICAgbG9uOiBudW1iZXI7XG4gIH07XG4gIGRpc3RhbmNlPzogbnVtYmVyO1xuICBlbXBsb3llck5hbWU6IHN0cmluZztcbiAgZW1wbG95ZXJXZWJzaXRlVXJsPzogc3RyaW5nO1xuICBjb3Vyc2U6IHtcbiAgICBsYXJzQ29kZTogbnVtYmVyO1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgbGV2ZWw6IG51bWJlcjtcbiAgICByb3V0ZTogc3RyaW5nO1xuICB9O1xuICBhcHByZW50aWNlc2hpcExldmVsOiBzdHJpbmc7XG4gIHByb3ZpZGVyTmFtZTogc3RyaW5nO1xuICBpc0Rpc2FiaWxpdHlDb25maWRlbnQ6IGJvb2xlYW47XG4gIHZhY2FuY3lVcmw6IHN0cmluZztcbiAgdmFjYW5jeVJlZmVyZW5jZTogc3RyaW5nO1xuICBpc05hdGlvbmFsVmFjYW5jeTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHZXRWYWNhbmNpZXNQYXJhbXMge1xuICBwYWdlTnVtYmVyPzogbnVtYmVyO1xuICBwYWdlU2l6ZT86IG51bWJlcjtcbiAgbGF0PzogbnVtYmVyO1xuICBsb24/OiBudW1iZXI7XG4gIGRpc3RhbmNlSW5NaWxlcz86IG51bWJlcjtcbiAgcG9zdGVkSW5MYXN0TnVtYmVyT2ZEYXlzPzogbnVtYmVyO1xuICBzdGFuZGFyZExhcnNDb2RlPzogbnVtYmVyW107XG4gIHJvdXRlcz86IHN0cmluZ1tdO1xuICBTb3J0PzogVmFjYW5jeVNvcnQ7XG59XG5cbmV4cG9ydCBjb25zdCBkZmVBcGkgPSB7XG4gIGFzeW5jIGdldFZhY2FuY2llcyhwYXJhbXM6IEdldFZhY2FuY2llc1BhcmFtcyk6IFByb21pc2U8RGZlVmFjYW5jeVJlc3BvbnNlPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KGAke0RGRV9BUElfQkFTRV9VUkx9L3ZhY2FuY3lgLCB7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnT2NwLUFwaW0tU3Vic2NyaXB0aW9uLUtleSc6IERGRV9BUElfS0VZLFxuICAgICAgICAgICdYLVZlcnNpb24nOiAnMScsXG4gICAgICAgIH0sXG4gICAgICAgIHBhcmFtcyxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgRGZFIHZhY2FuY2llczonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH0sXG5cbiAgYXN5bmMgZ2V0VmFjYW5jeUJ5UmVmZXJlbmNlKHJlZmVyZW5jZTogc3RyaW5nKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KGAke0RGRV9BUElfQkFTRV9VUkx9L3ZhY2FuY3kvJHtyZWZlcmVuY2V9YCwge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ09jcC1BcGltLVN1YnNjcmlwdGlvbi1LZXknOiBERkVfQVBJX0tFWSxcbiAgICAgICAgICAnWC1WZXJzaW9uJzogJzEnLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBEZkUgdmFjYW5jeTonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH0sXG5cbiAgYXN5bmMgZ2V0Q291cnNlcygpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoYCR7REZFX0FQSV9CQVNFX1VSTH0vcmVmZXJlbmNlZGF0YS9jb3Vyc2VzYCwge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ09jcC1BcGltLVN1YnNjcmlwdGlvbi1LZXknOiBERkVfQVBJX0tFWSxcbiAgICAgICAgICAnWC1WZXJzaW9uJzogJzEnLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBEZkUgY291cnNlczonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH0sXG59OyAiXSwibmFtZXMiOlsiYXhpb3MiLCJERkVfQVBJX0tFWSIsInByb2Nlc3MiLCJlbnYiLCJERkVfQVBJX0JBU0VfVVJMIiwiZGZlQXBpIiwiZ2V0VmFjYW5jaWVzIiwicGFyYW1zIiwicmVzcG9uc2UiLCJnZXQiLCJoZWFkZXJzIiwiZGF0YSIsImVycm9yIiwiY29uc29sZSIsImdldFZhY2FuY3lCeVJlZmVyZW5jZSIsInJlZmVyZW5jZSIsImdldENvdXJzZXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/services/dfeApi.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/axios","vendor-chunks/asynckit","vendor-chunks/debug","vendor-chunks/mime-db","vendor-chunks/form-data","vendor-chunks/follow-redirects","vendor-chunks/supports-color","vendor-chunks/proxy-from-env","vendor-chunks/ms","vendor-chunks/mime-types","vendor-chunks/has-flag","vendor-chunks/delayed-stream","vendor-chunks/combined-stream"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvacancies%2Froute&page=%2Fapi%2Fvacancies%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvacancies%2Froute.ts&appDir=%2FUsers%2Fuser%2FDownloads%2Fproject%203%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fuser%2FDownloads%2Fproject%203&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=export&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();